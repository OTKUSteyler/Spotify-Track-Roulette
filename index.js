(function(o,s,r){"use strict";const u=r.findByProps("sendMessage","editMessage"),i=r.findByStoreName("SpotifyStore");function d(){if(!i)return"\u274C Spotify store not found. Make sure you're connected to Spotify!";const t=i.getActivity();if(!t)return"\u274C No Spotify activity found. Make sure you're connected to Spotify and have listened to some tracks!";const n=i.getPlayHistory?.()||[];if(n.length===0){if(t.details&&t.state){const y=t.details,f=t.state.replace("by ","");return`\u{1F3B5} **${y}** by ${f}`}return"\u274C No Spotify tracks found in your history!"}const e=n[Math.floor(Math.random()*n.length)];return e.name&&e.artist?`\u{1F3B5} **${e.name}** by ${e.artist}`:"\u274C Unable to retrieve track information."}let a;var c={onLoad:function(){a=s.registerCommand({name:"spotifyroulette",displayName:"Spotify Roulette",description:"Sends a random track from your Spotify history",options:[],execute:async function(t,n){const e=d();u.sendMessage(n.channel.id,{content:e},void 0,{nonce:Date.now().toString()})},applicationId:"-1",inputType:1,type:1})},onUnload:function(){a&&a()}};return o.default=c,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.commands,vendetta.metro);
